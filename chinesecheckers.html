<html>

<!--==========================================================================-->

<head>
  <title>Chinese Checkers</title>
  <link rel="stylesheet" href="style.css">
  <script type='text/javascript' src='http://epilog.stanford.edu/javascript/epilog.js'></script>
  <script type='text/javascript' src='http://worksheets.stanford.edu/javascript/worksheets.js'></script>
  <script type='text/javascript'>
    //------------------------------------------------------------------------------
    // Code
    //------------------------------------------------------------------------------
    
    var rules = [];
    
    function setup ()
     {rules = readdata(document.getElementsByName('rules')[0].value);
      var bases = readdata(document.getElementById('library').textContent);
      definerules(library,rules.concat(bases));
      populatesheet();
      return true}
    
    function doopen ()
     {var widget = document.getElementsByName('rules')[0];
      var save = document.getElementById('save');
      var back = document.getElementById('back');
      highlight(widget);
      save.removeAttribute('disabled');
      back.removeAttribute('disabled');
      return true}
    
    function doupdate ()
     {var widget = document.getElementsByName('rules')[0];
      var save = document.getElementById('save');
      var back = document.getElementById('back');
      var result = widget.value;
      rules = readdata(result);
      if (result.trim().length>0 && rules.length===0)
         {alert('Syntax error.'); return false};
      var bases = readdata(document.getElementById('library').textContent);
      definerules(library,rules.concat(bases));
      populatesheet();
      backlight(widget);
      save.setAttribute('disabled','true');
      back.setAttribute('disabled','true');
      return true}
    
    function dorevert ()
     {var widget = document.getElementsByName('rules')[0];
      var save = document.getElementById('save');
      var back = document.getElementById('back');
      widget.value = grindem(rules)
      backlight(widget);
      save.setAttribute('disabled','true');
      back.setAttribute('disabled','true');
      return true}
    
    function populatesheet ()
     {var widgets = document.querySelectorAll('[id]');
      for (var i=0; i<widgets.length; i++)
          {populate(widgets[i])};
      document.getElementsByName('facts')[0].value = grindem(lambda.sort());
      reposition();
      return true}
    
    function highlight (widget)
     {widget.style.boxShadow = '0px 0px 4px 5px rgba(54,239,72,0.8)';
      widget.style.backgroundColor = '#ffffff';
      return false}
    
    function backlight (widget)
     {widget.style.boxShadow = 'none';
      widget.style.backgroundColor = '#eeeeee';
      return true}
    
    //------------------------------------------------------------------------------
    
    var playing = false;
    
    function dostep ()
     {document.getElementById('step').disabled=true;
      document.getElementById('play').disabled=true;
      document.getElementById('pause').disabled=true;
      document.getElementById('reset').disabled=true;
      fullreact(seq('click',bestrandom()));
      document.getElementById('step').disabled=false;
      document.getElementById('play').disabled=false;
      document.getElementById('pause').disabled=true;
      document.getElementById('reset').disabled=false;
      return true}
    
    function doplay ()
     {document.getElementById('step').disabled=true;
      document.getElementById('play').disabled=true;
      document.getElementById('pause').disabled=true;
      document.getElementById('reset').disabled=true;
      playing = true;
      run();
      document.getElementById('step').disabled=true;
      document.getElementById('play').disabled=true;
      document.getElementById('pause').disabled=false;
      document.getElementById('reset').disabled=true;
      return true}
    
    function dopause ()
     {document.getElementById('step').disabled=true;
      document.getElementById('play').disabled=true;
      document.getElementById('pause').disabled=true;
      document.getElementById('reset').disabled=true;
      playing = false;
      document.getElementById('step').disabled=false;
      document.getElementById('play').disabled=false;
      document.getElementById('pause').disabled=true;
      document.getElementById('reset').disabled=false;
      return true}
    
    function doreset ()
     {definefacts(lambda,readdata(document.getElementById('lambda').textContent));
      populatesheet();
      return true}
    
    function run ()
     {if (playing)
         {fullreact(seq('click',bestrandom()));
          if (!compfindp('terminal',lambda,library)) {setTimeout(run,1000)}};
      return true}
    
    function bestrandom ()
     {var actions = compfinds(read('cell(M,N)'),read('legal(M,N)'),lambda,library);
      var ind = Math.floor(Math.random()*actions.length);
      return actions[ind]}
    
    //------------------------------------------------------------------------------
    // End
    //------------------------------------------------------------------------------
      </script>
</head>

<!--=========================================================================-->

<body bgcolor='#ADD8E6' onload='initialize();'>
  <center>
    <table width='720' bgcolor='#ffffff'>
      <tr>
        <td>

<!--=========================================================================-->

<center>
  <br/>
  <table>
    <tr>
      <td style='font-size:36px;cursor:pointer' onclick='display("introduction")'>Chinese Checkers</td>
    </tr>
  </table>
</center>

<table border='0'>
  <tr>
    <td colspan='3' align='center'>
      <span id='socialreward'>0</span><br/>
    </td>
  </tr>
  <tr>
    <td align='center'>
      <span id='indyreward'>0</span><br/>
      <table cellspacing='2' border='4'>
        <tr><td id='indygold' width='60' height='60' align='center' valign='center'>&nbsp;</td></tr>
        <tr><td id='indydiamond' width='60' height='60' align='center' valign='center'>&nbsp;</td></tr>
      </table>
      <br/>
    </td>
    <td>
      <table cellspacing='2' border='4'>
        <tr>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
        </tr>

        <tr>
          <td class="invisibleCell" align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' height='20' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(4, -8, 4)" align="left" valign='left' width='60' height='20' onclick='modbutton(this)' class="redMarker">&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
        </tr>
        <tr>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
        </tr>

        <tr>
          <td class="invisibleCell" width='60' height='20' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td id="cell(3, -7, 4)" class="redMarker" width='60' align='center' valign='center' onclick='modbutton(this)'></td>>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(4, -7, 3)" class="redMarker"  width='60' align='center' valign='center' onclick='modbutton(this)'></td>>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
        </tr>
        <tr>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
        </tr>
        <tr>
          <td class="invisibleCell" width='60' height='20' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(2, -6, 4)" class="redMarker" align='center' valign='center' onclick='modbutton(this)'></td>>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(3, -6, 3)" class="redMarker"  width='60' align='center' valign='center' onclick='modbutton(this)'></td>>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(4, -6, 2)" class="redMarker" width='60' align='center' valign='center' onclick='modbutton(this)'></td>>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
        </tr>
        <tr>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
        </tr>
        <tr>
          <td class="invisibleCell" width='60' height='20' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(1, -5, 4)" class="redMarker"  width='60' align='center' valign='center' onclick='modbutton(this)'></td>>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(2, -5, 3)" class="redMarker"  width='60' align='center' valign='center' onclick='modbutton(this)'></td>>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(3, -5, 2)" class="redMarker" width='60' align='center' valign='center' onclick='modbutton(this)'></td>>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(4, -5, 1)" class="redMarker" width='60' align='center' valign='center' onclick='modbutton(this)'></td>>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
        </tr>
        <tr>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
        </tr>
        <tr>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-4, -4, 8, yellow, yellow)" class="yellowMarker" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-3, -4, 7, yellow, yellow)" class="yellowMarker" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-2, -4, 6, yellow, yellow)" class="yellowMarker" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-1, -4, 5, yellow, yellow)" class="yellowMarker" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(0, -4, 4)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(1, -4, 3)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(2, -4, 2)" class="emptyCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(3, -4, 1)" class="emptyCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(4, -4, 0)" class="emptyCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(5, -4, -1, purple, purple)" class="purpleMarker" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(6, -4, -2, purple, purple)" class="purpleMarker" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(7, -4, -3, purple, purple)" class="purpleMarker" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(8, -4, -4, purple, purple)" class="purpleMarker" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' onclick='modbutton(this)'>&nbsp;</td>

        </tr>
        <tr>
          <td class="invisibleCell" width='60' height='10' onclick='modbutton(this)'>&nbsp;</td>
        </tr>
        <tr>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-4, -3, 7, yellow, yellow)" class="yellowMarker" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-3, -3, 6, yellow, yellow)" class="yellowMarker" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-2, -3, 5, yellow, yellow)" class="yellowMarker" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-1, -3, 4)" class="emptyCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(0, -3, 3)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(1, -3, 2)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(2, -3, 1)" class="emptyCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(3, -3, 0)" class="emptyCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(4, -3, -1)" class="emptyCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(5, -3, -2, purple, purple)" class="purpleMarker" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(6, -3, -3, purple, purple)" class="purpleMarker" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(7, -3, -4, purple, purple)" class="purpleMarker" onclick='modbutton(this)'>&nbsp;</td>
        </tr>
        <tr>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
        </tr>
        <tr>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-4, -2, 6, yellow, yellow)" class="yellowMarker" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-3, -2, 5, yellow, yellow)" class="yellowMarker" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-2, -2, 4)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-1, -2, 3)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(0, -2, 2)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(1, -2, 1)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(2, -2, 0)" class="emptyCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(3, -2, -1)" class="emptyCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(4, -2, -2)" class="emptyCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(5, -2, -3, purple, purple)" class="purpleMarker" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(6, -2, -4, purple, purple)" class="purpleMarker" onclick='modbutton(this)'>&nbsp;</td>

        </tr>
        <tr>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
        </tr>
        <tr>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-4, -1, 5, yellow, yellow)" class="yellowMarker" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-3, -1, 4)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-2, -1, 3)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-1, -1, 2)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(0, -1, 1)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(1, -1, 0)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(2, -1, -1)" class="emptyCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(3, -1, -2)" class="emptyCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(4, -1, -3)" class="emptyCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(5, -1, -4, purple, purple)" class="purpleMarker" onclick='modbutton(this)'>&nbsp;</td>

        </tr>
        <tr>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
        </tr>
        <tr>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-4, 0, 4)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-3, 0, 3)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-2, 0, 2)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-1, 0, 1)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(0, 0, 0)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(1, 0, -1)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(2, 0, -2)" class="emptyCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(3, 0, -3)" class="emptyCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(4, 0, -4)" class="emptyCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
        </tr>
        <tr>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
        </tr>

        <tr>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-5, 1, 4, orange, orange)" class="orangeMarker" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-4, 1, 3)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-3, 1, 2)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-2, 1, 1)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-1, 1, 0)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(0, 1, -1)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(1, 1, -2)" class="emptyCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(2, 1, -3)" class="emptyCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(3, 1, -4)" class="emptyCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(4, 1, -5, blue, blue)" class="blueMarker" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
        </tr>
        <tr>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
        </tr>
        <tr>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-6, 2, 4, orange, orange)" class="orangeMarker" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-5, 2, 3, orange, orange)" class="orangeMarker" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-4, 2, 2)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-3, 2, 1)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-2, 2, 0)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-1, 2, -1)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(0, 2, -2)" class="emptyCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(1, 2, -3)" class="emptyCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(2, 2, -4)" class="emptyCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(3, 2, -5, blue, blue)" class="blueMarker" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(4, 2, -6, blue, blue)" class="blueMarker" onclick='modbutton(this)'>&nbsp;</td>

        </tr>
        <tr>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
        </tr>

        <tr>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-7, 3, 4, orange, orange)" class="orangeMarker" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-6, 3, 3, orange, orange)" class="orangeMarker" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-5, 3, 2, orange, orange)" class="orangeMarker" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-4, 3, 1)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-3, 3, 0)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-2, 3, -1)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-1, 3, -2)" class="emptyCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(0, 3, -3)" class="emptyCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(1, 3, -4)" class="emptyCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(2, 3, -5, blue, blue)" class="blueMarker" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(3, 3, -6, blue, blue)" class="blueMarker" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(4, 3, -7, blue, blue)" class="blueMarker" onclick='modbutton(this)'>&nbsp;</td>

        </tr>
        <tr>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
        </tr>

        <tr>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-8, 4, 4, orange, orange)" class="orangeMarker" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-7, 4, 3, orange, orange)" class="orangeMarker" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-6, 4, 2, orange, orange)" class="orangeMarker" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-5, 4, 1, orange, orange)" class="orangeMarker" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-4, 4, 0)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-3, 4, -1)" class="emptyCell" width='60' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-2, 4, -2)" class="emptyCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-1, 4, -3)" class="emptyCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(0, 4, -4)"  class="emptyCell" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(1, 4, -5, blue, blue)" class="blueMarker" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(2, 4, -6, blue, blue)" class="blueMarker" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(3, 4, -7, blue, blue)" class="blueMarker" onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(4, 4, -8, blue, blue)" class="blueMarker" onclick='modbutton(this)'>&nbsp;</td>

        </tr>
        <tr>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
        </tr>

        <tr>
          <td class="invisibleCell" width='60' height='20' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-4, 5, -1)" class="greenMarker"  width='60' align='center' valign='center' onclick='modbutton(this)'></td>>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-3, 5, -2)"  class="greenMarker"  width='60' align='center' valign='center' onclick='modbutton(this)'></td>>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-2, 5, -3)" class="greenMarker" width='60' align='center' valign='center' onclick='modbutton(this)'></td>>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-1, 5, -4)" class="greenMarker" width='60' align='center' valign='center' onclick='modbutton(this)'></td>>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
        </tr>
        <tr>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
        </tr>
        <tr>
          <td class="invisibleCell" width='60' height='20' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-4, 6, -2)" class="greenMarker" align='center' valign='center' onclick='modbutton(this)'></td>>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-3, 6, -3)" class="greenMarker"  width='60' align='center' valign='center' onclick='modbutton(this)'></td>>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-2, 6, -4)" class="greenMarker" width='60' align='center' valign='center' onclick='modbutton(this)'></td>>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
        </tr>
        <tr>
          <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
        </tr>
        <tr>
          <td class="invisibleCell" width='60' height='20' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
          <td id="cell(-4, 7, -3)" class="greenMarker" width='60' align='center' valign='center' onclick='modbutton(this)'></td>>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td id="cell(-3, 7, -4)" class="greenMarker"  width='60' align='center' valign='center' onclick='modbutton(this)'></td>>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
          <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
        </tr>
        <tr>
          <td class="invisibleCell" width='60' height='10' onclick='modbutton(this)'>&nbsp;</td>
        </tr>

        <tr>
        <td class="invisibleCell" align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
        <td class="invisibleCell" width='60' height='20' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
        <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
        <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
        <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
        <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
        <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
        <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
        <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
        <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
        <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
        <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
        <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
        <td id="cell(-4, 8, -4)" align="left" class="greenMarker" valign='left' width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
        <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
        <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
        <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
        <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
        <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
        <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
        <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
        <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
        <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>
        <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
        <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
        <td class="invisibleCell" width='60' align='center' valign='center' onclick='modbutton(this)'>&nbsp;</td>          
      </tr>
      <tr>
        <td class="invisibleCell" width='60' height='20' onclick='modbutton(this)'>&nbsp;</td>
      </tr>

    </table>
    </td>
    <td align='center'>
      <span id='larareward'>0</span><br/>
      <table cellspacing='2' border='4'>
        <tr><td id='laragold' width='60' height='60' align='center' valign='center'>&nbsp;</td></tr>
        <tr><td id='laradiamond' width='60' height='60' align='center' valign='center'>&nbsp;</td></tr>
      </table>
      <br/>
    </td>
  </tr>
  <tr>
    <td colspan='3' align='center'>
<span id='control' style='font-size:18px;color:#666666'>Player: red</span>
    </td>
  </tr>
</table>
</center>

<center>
  <br/>
  <input id='step' type='button' value='Step' onclick='dostep()'/>
  <input id='play' type='button' value='Play' onclick='doplay()'/>
  <input id='pause' type='button' value='Pause' onclick='dopause()' disabled='true'/>
  <input id='reset' type='button' value='Reset' onclick='doreset()'/>
  <br/>
  <br/>
</center>

        </td>
      </tr>
    </table>
  </center>
  <br/>

<!--=========================================================================-->

<center>
  <table width='720' cellspacing='0' cellpadding='0'>
    <tr>
      <td valign='top'>
      </td>
      <td valign='top'>

<table cellpadding='0' cellspacing='0' bgcolor='#F5F5DC' border='1'>
  <tr>
    <td>
        <textarea name='rules' style='display:none;font-family:courier;background-color:#eeeeee;outline:0;border-radius:0px 0px 4px 4px;' rows='48' cols='62' oninput='doopen(this)'>
        </textarea>
    </td>
  </tr>
</table>

      </td>
    </tr>
  </table>
</center>

<!--=========================================================================-->

<textarea id='library' style='display:none;width:800px;font-family:courier;display:none' rows='20'>
  
%check if a move is valid
validMove(X,Y,Z) :- selectedCell(I,J,K) & evaluate(abs(minus(X,I)), A) & leq(A,1) & evaluate(abs(minus(Y,J)), B) & leq(B,1) & evaluate(abs(minus(Z,K)), C) & leq(C,1)

%perform jump to the left
validJump(X,Y,Z) :- selectedCell(Q,R,S) & (evaluate(minus(X,Q), A) & same(A,-2) & evaluate(minus(Y,R), B) & same(B,0) & evaluate(minus(Z,S), C) & same(C,2) & evaluate(minus(Q,1), COORD1) & evaluate(plus(S,1), COORD2) & hasColor(COORD1,R,COORD2, COLOR) & distinct(COLOR,white))

%perform jump to the right
validJump(X,Y,Z) :- selectedCell(Q,R,S) & (evaluate(minus(X,Q), A) & same(A,2) & evaluate(minus(Y,R), B) & same(B,0) & evaluate(minus(Z,S), C) & same(C,-2) & evaluate(plus(Q,1), COORD1) & evaluate(minus(S,1), COORD2) & hasColor(COORD1,R,COORD2, COLOR) & distinct(COLOR,white))

%perform top left jump
validJump(X,Y,Z) :- selectedCell(Q,R,S) & (evaluate(minus(X,Q), A) & same(A,0) & evaluate(minus(Y,R), B) & same(B,-2) & evaluate(minus(Z,S), C) & same(C,2) & evaluate(minus(R,1), COORD1) & evaluate(plus(S,1), COORD2) & hasColor(Q,COORD1,COORD2, COLOR) & distinct(COLOR,white))

%perform top right jump
validJump(X,Y,Z) :- selectedCell(Q,R,S) & (evaluate(minus(X,Q), A) & same(A,2) & evaluate(minus(Y,R), B) & same(B,-2) & same(S,Z) & evaluate(plus(Q,1), COORD1) & evaluate(minus(R,1), COORD2) & hasColor(COORD1, COORD2, S, COLOR) & distinct(COLOR,white))

%perform bottom left jump
validJump(X,Y,Z) :- selectedCell(Q,R,S) & (evaluate(minus(X,Q), A) & same(A,-2) & evaluate(minus(Y,R), B) & same(B,2) & same(S,Z) & evaluate(minus(Q,1), COORD1) & evaluate(plus(R,1), COORD2) & hasColor(COORD1, COORD2, S, COLOR) & distinct(COLOR,white))

%perform bottom right jump
validJump(X,Y,Z) :- selectedCell(Q,R,S) & (evaluate(minus(Y,R), A) & same(A,2) & evaluate(minus(Z,S), B) & same(B,-2) & same(Q,X) & evaluate(plus(R,1), COORD1) & evaluate(minus(S,1), COORD2) & hasColor(Q, COORD1, COORD2, COLOR) & distinct(COLOR,white))

%if we click on a piece and theres no already selected piece, mark this piece as selected and remove other selected pieces
click(cell(X,Y,Z)) :: hasColor(X,Y,Z,A) & control(C) & same(A,C) ==> selectedCell(X,Y,Z)
click(cell(X,Y,Z)) :: selectedCell(A,B,C) ==> ~selectedCell(A,B,C)

%move a green piece 
click(cell(X,Y,Z)) :: (validMove(X,Y,Z) | validJump(X,Y,Z)) & control(green) & selectedCell(I,J,K) & hasColor(X,Y,Z,A) & same(A, white) & hasColor(I,J,K,L) ==>
style(cell(X,Y,Z), background-color, L) & ~style(cell(X,Y,Z), background-color, A)
 & style(cell(I,J,K), background-color, A) & ~style(cell(I,J,K), background-color, L)
 & hasColor(X,Y,Z,L) & ~hasColor(X,Y,Z,A)  & hasColor(I,J,K,A) & ~hasColor(I,J,K,L)
 & control(red) & ~control(green)

 %move a red piece
 click(cell(X,Y,Z)) :: (validMove(X,Y,Z) | validJump(X,Y,Z)) & control(red) & selectedCell(I,J,K) & hasColor(X,Y,Z,A) & same(A, white) & hasColor(I,J,K,L) ==>
style(cell(X,Y,Z), background-color, L) & ~style(cell(X,Y,Z), background-color, A)
 & style(cell(I,J,K), background-color, A) & ~style(cell(I,J,K), background-color, L)
 & hasColor(X,Y,Z,L) & ~hasColor(X,Y,Z,A)  & hasColor(I,J,K,A) & ~hasColor(I,J,K,L)
 & control(green) & ~control(red)
 

</textarea>

<!--=======================================================================-->

<textarea id='lambda' type='text/hrf' style='display:none'>
hasColor(4,-8,4, red)

hasColor(3,-7,4, red)
hasColor(4,-7,3, red)

hasColor(2,-6,4, red)
hasColor(3,-6,3, red)
hasColor(4,-6,2, red)

hasColor(1,-5,4, red)
hasColor(2,-5,3, red)
hasColor(3,-5,2, red)
hasColor(4,-5,1, red)

hasColor(0, -4, 4, white)
hasColor(1, -4, 3, white)
hasColor(2, -4, 2, white)
hasColor(3, -4, 1, white)
hasColor(4, -4, 0, white)

hasColor(-1, -3, 4, white)
hasColor(0, -3, 3, white)
hasColor(1, -3, 2, white)
hasColor(2, -3, 1, white)
hasColor(3, -3, 0, white)
hasColor(4, -3, -1, white)

hasColor(-2,-2,4, white)
hasColor(-1,-2,3, white)
hasColor(0,-2,2, white)
hasColor(1,-2,1, white)
hasColor(2,-2,0, white)
hasColor(3,-2,-1, white)
hasColor(4,-2,-2, white)

hasColor(-3,-1,4, white)
hasColor(-2,-1,3, white)
hasColor(-1,-1,2, white)
hasColor(0,-1,1, white)
hasColor(1,-1,0, white)
hasColor(2,-1,-1, white)
hasColor(3,-1,-2, white)
hasColor(4,-1,-3, white)

hasColor(-4,0,4, white)
hasColor(-3,0,3, white)
hasColor(-2,0,2, white)
hasColor(-1,0,1, white)
hasColor(0,0,0, white)
hasColor(1,0,-1, white)
hasColor(2,0,-2, white)
hasColor(3,0,-3, white)
hasColor(4,0,-4, white)

hasColor(-4,1,3, white)
hasColor(-3,1,2, white)
hasColor(-2,1,1, white)
hasColor(-1,1,0, white)
hasColor(0,1,-1, white)
hasColor(1,1,-2, white)
hasColor(2,1,-3, white)
hasColor(3,1,-4, white)

hasColor(-4,2,2, white)
hasColor(-3,2,1, white)
hasColor(-2,2,0, white)
hasColor(-1,2,-1, white)
hasColor(0,2,-2, white)
hasColor(1,2,-3, white)
hasColor(2,2,-4, white)

hasColor(-4,3,1, white)
hasColor(-3,3,0, white)
hasColor(-2,3,-1, white)
hasColor(-1,3,-2, white)
hasColor(0,3,-3, white)
hasColor(1,3,-4, white)

hasColor(-4, 4, 0, white)
hasColor(-3,4,-1, white)
hasColor(-2,4,-2, white)
hasColor(-1,4,-3, white)
hasColor(0,4,-4, white)

hasColor(-4, 5, -1, green)
hasColor(-3,5,-2, green)
hasColor(-2,5,-3, green)
hasColor(-1,5,-4, green)

hasColor(-4,6,-2, green)
hasColor(-3,6,-3, green)
hasColor(-2,6,-4, green)

hasColor(-4,7,-3, green)
hasColor(-3,7,-4, green)

hasColor(-4,8,-4, green)

player(red)
player(green)

control(red)

</textarea>

<!--=========================================================================-->

</body>

<!--=========================================================================-->

</html>